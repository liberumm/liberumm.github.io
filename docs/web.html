<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Camera and Canvas Preview</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
  }
  #canvasPreview {
    margin: 20px auto;
    width: 100%;
    max-width: 640px;
    text-align: center;
  }
  canvas {
    width: 100%;
    height: auto;
    border: 1px solid #ccc;
  }
</style>
</head>
<body>
<div id="canvasPreview">
  <p>canvas preview</p>
  <canvas id="canvas"></canvas>
</div>

<script>
  const canvasPreview = document.getElementById('canvasPreview');
  const canvas = document.getElementById('canvas');
  const canvasCtx = canvas.getContext('2d');

  // キャンバスのサイズを更新する関数
  function updateCanvasSize() {
    const width = canvasPreview.clientWidth; // キャンバスプレビューの幅
    const height = canvasPreview.clientHeight; // キャンバスプレビューの高さ
    canvas.width = width;
    canvas.height = height;
  }

  // キャンバスの初期サイズを設定する
  updateCanvasSize();

  // キャンバスのサイズをウィンドウサイズの変更に応じて更新する
  window.addEventListener('resize', updateCanvasSize);

  // キャンバスに線を描画する例
  canvasCtx.strokeStyle = 'red';
  canvasCtx.lineWidth = 5;
  canvasCtx.beginPath();
  canvasCtx.moveTo(10, 10);
  canvasCtx.lineTo(canvas.width - 10, canvas.height - 10);
  canvasCtx.stroke();
</script>
</body>
</html>
