<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>è·å ´ä½“é¨“ç”³è¾¼ãƒ•ã‚©ãƒ¼ãƒ </title>
  <!-- Roboto & MUI -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <!-- React, ReactDOM, Babel -->
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.23.8/babel.min.js"></script>
  <!-- Emotion (MUIä¾å­˜) -->
  <script
    src="https://cdn.jsdelivr.net/npm/@emotion/react@11.11.3/dist/emotion-react.umd.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/@emotion/styled@11.11.0/dist/emotion-styled.umd.min.js"></script>
  <!-- MUI Core -->
  <script
    src="https://cdn.jsdelivr.net/npm/@mui/material@5.15.3/umd/material-ui.production.min.js"
    crossorigin></script>
  <style>
    body {
      font-family: Roboto, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 12px;
    }
    .form-container {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    .form-header {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: white;
      padding: 20px;
      text-align: center;
    }
    .form-section {
      padding: 16px 20px;
      border-bottom: 1px solid #e0e0e0;
    }
    .form-section:last-child {
      border-bottom: none;
    }
    .section-title {
      color: #1976d2;
      font-weight: 500;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 1.1rem;
    }
    .results-section {
      background-color: #f8f9fa;
      padding: 16px 20px;
    }
    .compact-card {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 8px;
    }
    .calendar-container {
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 16px;
      background: white;
    }
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
    }
    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
      font-size: 0.9rem;
    }
    .calendar-day:hover {
      background: #f5f5f5;
    }
    .calendar-day.selected {
      background: #1976d2;
      color: white;
    }
    .calendar-day.in-range {
      background: #e3f2fd;
      color: #1976d2;
    }
    .calendar-day.disabled {
      color: #ccc;
      cursor: not-allowed;
    }
    .calendar-day.other-month {
      color: #ccc;
    }
    .weekday-header {
      text-align: center;
      font-weight: bold;
      color: #666;
      padding: 8px 0;
      font-size: 0.8rem;
    }
    .confirm-section {
      background-color: #fff3e0;
      border: 2px solid #ff9800;
      border-radius: 8px;
      padding: 20px;
      margin: 16px 0;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const {
      Button,
      TextField,
      Select,
      MenuItem,
      FormControl,
      InputLabel,
      List,
      ListItem,
      Typography,
      Box,
      Grid,
      Paper,
      Divider,
      Card,
      CardContent,
      Icon,
      IconButton,
      Chip,
      Dialog,
      DialogTitle,
      DialogContent,
      DialogActions,
      Alert
    } = MaterialUI;

    // åº—èˆ—é¸æŠè‚¢
    const STORE_OPTIONS = [
      'å’Œæ³‰',
      'ä¸ŠåŒ—æ²¢',
      'æˆåŸ',
      'ç §',
      'æ¨ªæµœå²¡é‡'
    ];

    // ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    function Calendar({ selectedDates, onDateSelect }) {
      const today = new Date();
      const oneMonthFromNow = new Date(today);
      oneMonthFromNow.setMonth(today.getMonth() + 1);
      
      const [currentMonth, setCurrentMonth] = React.useState(oneMonthFromNow);
      
      const sevenMonthsFromNow = new Date(today);
      sevenMonthsFromNow.setMonth(today.getMonth() + 7);
      
      const year = currentMonth.getFullYear();
      const month = currentMonth.getMonth();
      
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      
      const startDate = new Date(firstDay);
      startDate.setDate(startDate.getDate() - firstDay.getDay());
      
      const endDate = new Date(lastDay);
      endDate.setDate(endDate.getDate() + (6 - lastDay.getDay()));
      
      const days = [];
      for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {
        days.push(new Date(d));
      }
      
      const weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
      
      const prevMonth = () => {
        setCurrentMonth(new Date(year, month - 1));
      };
      
      const nextMonth = () => {
        setCurrentMonth(new Date(year, month + 1));
      };
      
      const formatDate = (date) => {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
      };
      
      const isSelected = (date) => {
        const dateStr = formatDate(date);
        return selectedDates.includes(dateStr);
      };
      
      const isInRange = (date) => {
        if (selectedDates.length < 2) return false;
        const dateStr = formatDate(date);
        const sorted = [...selectedDates].sort();
        return dateStr >= sorted[0] && dateStr <= sorted[sorted.length - 1];
      };
      
      const isDisabled = (date) => {
        if (date.getDay() === 0 || date.getDay() === 6) return true;
        return date < oneMonthFromNow || date > sevenMonthsFromNow;
      };
      
      const handleDateClick = (date) => {
        if (isDisabled(date)) return;
        const dateStr = formatDate(date);
        onDateSelect(dateStr);
      };
      
      return (
        <div className="calendar-container">
          <div className="calendar-header">
            <IconButton onClick={prevMonth} size="small">
              <Icon>chevron_left</Icon>
            </IconButton>
            <Typography variant="h6" sx={{ fontWeight: 'bold' }}>
              {year}å¹´ {month + 1}æœˆ
            </Typography>
            <IconButton onClick={nextMonth} size="small">
              <Icon>chevron_right</Icon>
            </IconButton>
          </div>
          
          <div className="calendar-grid">
            {weekdays.map((day, idx) => (
              <div key={day} className="weekday-header" style={{
                color: idx === 0 || idx === 6 ? '#ff5722' : '#666'
              }}>{day}</div>
            ))}
            
            {days.map((date, idx) => {
              const isCurrentMonth = date.getMonth() === month;
              const disabled = isDisabled(date);
              
              return (
                <div
                  key={idx}
                  className={`calendar-day ${
                    isSelected(date) ? 'selected' : ''
                  } ${
                    isInRange(date) && !isSelected(date) ? 'in-range' : ''
                  } ${
                    !isCurrentMonth ? 'other-month' : ''
                  } ${
                    disabled ? 'disabled' : ''
                  }`}
                  onClick={() => handleDateClick(date)}
                  style={{
                    cursor: disabled ? 'not-allowed' : 'pointer',
                    color: disabled ? '#ccc' : 
                           (date.getDay() === 0 || date.getDay() === 6) ? '#ff5722' : 'inherit'
                  }}
                >
                  {date.getDate()}
                </div>
              );
            })}
          </div>
          
          <Typography variant="body2" color="text.secondary" sx={{ mt: 1, textAlign: 'center' }}>
            â€» å¹³æ—¥ã®ã¿é¸æŠå¯èƒ½ï¼ˆ1ã‹æœˆå¾Œï½7ã‹æœˆå¾Œã¾ã§ï¼‰
          </Typography>
        </div>
      );
    }

    function App() {
      // æ—¥ä»˜ã®ã‚¹ãƒ†ãƒ¼ãƒˆï¼ˆé…åˆ—ã§è¤‡æ•°é¸æŠå¯¾å¿œï¼‰
      const [selectedDates, setSelectedDates] = React.useState([]);
      
      // æ™‚åˆ»ã®ã‚¹ãƒ†ãƒ¼ãƒˆï¼ˆåˆæœŸå€¤ã‚’ 10:00 / 15:00 ã«è¨­å®šï¼‰
      const [startTime, setStartTime] = React.useState('10:00');
      const [endTime, setEndTime] = React.useState('15:00');
      
      // åº—èˆ—Ã—äººæ•°Ã—æŒ¯æ›¿ã®ã‚¹ãƒ†ãƒ¼ãƒˆï¼ˆåˆæœŸå€¤3åº—èˆ—ï¼‰
      const [stores, setStores] = React.useState([
        { name: '', count: '', transfer: '' },
        { name: '', count: '', transfer: '' },
        { name: '', count: '', transfer: '' }
      ]);
      
      // ç”Ÿæˆãƒªã‚¹ãƒˆã®ã‚¹ãƒ†ãƒ¼ãƒˆ
      const [entries, setEntries] = React.useState([]);
      
      // é€ä¿¡å®Œäº†çŠ¶æ…‹ã®ã‚¹ãƒ†ãƒ¼ãƒˆ
      const [isSent, setIsSent] = React.useState(false);
      
      // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ã‚¹ãƒ†ãƒ¼ãƒˆ
      const [showConfirmDialog, setShowConfirmDialog] = React.useState(false);

      // æ—¥ä»˜é¸æŠãƒãƒ³ãƒ‰ãƒ©
      const handleDateSelect = (dateStr) => {
        setSelectedDates(prev => {
          if (prev.includes(dateStr)) {
            // æ—¢ã«é¸æŠæ¸ˆã¿ã®å ´åˆã¯å‰Šé™¤
            return prev.filter(d => d !== dateStr);
          } else {
            // æ–°ã—ã„æ—¥ä»˜ã‚’è¿½åŠ 
            return [...prev, dateStr].sort();
          }
        });
      };

      // é¸æŠã—ãŸæ—¥ä»˜ã‚’ã‚¯ãƒªã‚¢
      const clearSelectedDates = () => {
        setSelectedDates([]);
      };

      // åº—èˆ—æƒ…å ±ã®å¤‰æ›´ãƒãƒ³ãƒ‰ãƒ©
      const handleStoreChange = (idx, field, value) => {
        const newStores = [...stores];
        newStores[idx][field] = value;
        
        // åº—èˆ—ã‚’é¸æŠã—ãŸæ™‚ç‚¹ã§äººæ•°ã‚’1ã«åˆæœŸåŒ–
        if (field === 'name' && value && !newStores[idx].count) {
          newStores[idx].count = '1';
        }
        
        setStores(newStores);
      };

      // åº—èˆ—è¿½åŠ 
      const addStore = () => {
        setStores([...stores, { name: '', count: '', transfer: '' }]);
      };

      // åº—èˆ—å‰Šé™¤
      const removeStore = (idx) => {
        if (stores.length > 1) {
          setStores(stores.filter((_, i) => i !== idx));
        }
      };

      // æŒ¯æ›¿é¸æŠè‚¢ï¼šè‡ªåº—ã‚’é™¤ã„ãŸä»–ã®åº—èˆ—åãƒªã‚¹ãƒˆ
      const getTransferOptions = (idx) => {
        return stores
          .map(s => s.name)
          .filter((_, i) => i !== idx && stores[i].name);
      };

      // ç”³è¾¼å†…å®¹ç¢ºèª
      const handleConfirm = () => {
        // å¿…é ˆå…¥åŠ›ãƒã‚§ãƒƒã‚¯ï¼ˆä»£æ›¿åº—èˆ—ã¯é™¤ãï¼‰
        if (selectedDates.length === 0 || !startTime || !endTime) {
          alert('æ—¥ä»˜ã¨æ™‚é–“ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
          return;
        }
        
        for (let s of stores) {
          if (!s.name || !s.count) {
            alert('å—å…¥åº—èˆ—åã¨å—å…¥å¯èƒ½äººæ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
            return;
          }
        }
        
        // æ™‚åˆ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        const [sh, sm] = startTime.split(':').map(Number);
        const [eh, em] = endTime.split(':').map(Number);
        if (sh > eh || (sh === eh && sm >= em)) {
          alert('é–‹å§‹æ™‚åˆ»ã¯çµ‚äº†æ™‚åˆ»ã‚ˆã‚Šå‰ã«ã—ã¦ãã ã•ã„');
          return;
        }

        // ãƒ«ãƒ¼ãƒ—ç”Ÿæˆï¼šæ—¥ä»˜Ã—åº—èˆ—
        const list = [];
        selectedDates.forEach(dateStr => {
          stores.forEach(({ name, count, transfer }) => {
            if (name && count) { // åº—èˆ—åã¨äººæ•°ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿
              list.push({ 
                date: dateStr, 
                startTime, 
                endTime, 
                store: name, 
                count, 
                transfer: transfer || 'æœªè¨­å®š' 
              });
            }
          });
        });
        setEntries(list);
      };

      // æœ¬é€ä¿¡å‡¦ç†
      const handleSubmit = () => {
        setShowConfirmDialog(true);
      };

      // é€ä¿¡ç¢ºå®š
      const confirmSubmit = () => {
        setShowConfirmDialog(false);
        setIsSent(true);
        
        // å®Ÿéš›ã®é€ä¿¡å‡¦ç†ã‚’ã“ã“ã«è¿½åŠ 
        console.log('ç”³è¾¼å†…å®¹:', entries);
      };

      // ç”³è¾¼å†…å®¹ã‚’ãƒªã‚»ãƒƒãƒˆ
      const resetApplication = () => {
        setSelectedDates([]);
        setStartTime('10:00');
        setEndTime('15:00');
        setStores([
          { name: '', count: '', transfer: '' },
          { name: '', count: '', transfer: '' },
          { name: '', count: '', transfer: '' }
        ]);
        setEntries([]);
        setIsSent(false);
      };

      // ç”Ÿæˆãƒœã‚¿ãƒ³ã®æœ‰åŠ¹åŒ–åˆ¤å®šï¼ˆæŒ¯æ›¿åº—èˆ—ã¯å¿…é ˆã§ã¯ãªã„ï¼‰
      const canConfirm =
        selectedDates.length > 0 && startTime && endTime &&
        stores.some(s => s.name && s.count);



      // å…¥åŠ›ç”»é¢
      return (
        <Box sx={{ maxWidth: 900, mx: 'auto' }}>
          <div className="form-container">
            {/* ãƒ•ã‚©ãƒ¼ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ */}
            <div className="form-header">
              <Typography variant="h5" component="h1" sx={{ fontWeight: 'bold', mb: 0.5 }}>
                è·å ´ä½“é¨“ç”³è¾¼ãƒ•ã‚©ãƒ¼ãƒ 
              </Typography>
              <Typography variant="body2" sx={{ opacity: 0.9 }}>
                ä½“é¨“å¸Œæœ›æ—¥ãƒ»æ™‚é–“ãƒ»å—å…¥åº—èˆ—ãƒ»äººæ•°ã®è¨­å®š
              </Typography>
            </div>

            {/* æ—¥ä»˜é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
            <div className="form-section">
              <div className="section-title">
                <Icon sx={{ fontSize: 20 }}>calendar_today</Icon>
                <Typography variant="h6">ä½“é¨“å¸Œæœ›æ—¥é¸æŠ</Typography>
              </div>
              
              <Calendar 
                selectedDates={selectedDates}
                onDateSelect={handleDateSelect}
              />
              
              {selectedDates.length > 0 && (
                <Box sx={{ mt: 2 }}>
                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                    <Typography variant="body2" sx={{ mr: 1 }}>
                      é¸æŠã—ãŸæ—¥ä»˜ ({selectedDates.length}æ—¥):
                    </Typography>
                    <Button size="small" onClick={clearSelectedDates}>
                      ã‚¯ãƒªã‚¢
                    </Button>
                  </Box>
                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>
                    {selectedDates.map(date => (
                      <Chip
                        key={date}
                        label={date}
                        size="small"
                        onDelete={() => handleDateSelect(date)}
                        color="primary"
                        variant="outlined"
                      />
                    ))}
                  </Box>
                </Box>
              )}
            </div>

            {/* æ™‚é–“è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
            <div className="form-section">
              <div className="section-title">
                <Icon sx={{ fontSize: 20 }}>schedule</Icon>
                <Typography variant="h6">ä½“é¨“æ™‚é–“</Typography>
              </div>
              <Grid container spacing={2}>
                <Grid item xs={6}>
                  <TextField
                    label="é–‹å§‹æ™‚åˆ»"
                    type="time"
                    value={startTime}
                    onChange={e => setStartTime(e.target.value)}
                    InputLabelProps={{ shrink: true }}
                    fullWidth
                    variant="outlined"
                    size="small"
                  />
                </Grid>
                <Grid item xs={6}>
                  <TextField
                    label="çµ‚äº†æ™‚åˆ»"
                    type="time"
                    value={endTime}
                    onChange={e => setEndTime(e.target.value)}
                    InputLabelProps={{ shrink: true }}
                    fullWidth
                    variant="outlined"
                    size="small"
                  />
                </Grid>
              </Grid>
            </div>

            {/* åº—èˆ—æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
            <div className="form-section">
              <div className="section-title">
                <Icon sx={{ fontSize: 20 }}>store</Icon>
                <Typography variant="h6">å—å…¥åº—èˆ—æƒ…å ±</Typography>
                <Button
                  size="small"
                  onClick={addStore}
                  sx={{ ml: 'auto' }}
                  startIcon={<Icon>add</Icon>}
                >
                  åº—èˆ—è¿½åŠ 
                </Button>
              </div>
              
              {stores.map((s, idx) => (
                <div key={idx} className="compact-card">
                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                    <Typography variant="subtitle2" sx={{ color: '#1976d2', fontWeight: 'bold' }}>
                      å—å…¥åº—èˆ— {idx + 1}
                    </Typography>
                    {stores.length > 1 && (
                      <IconButton
                        size="small"
                        onClick={() => removeStore(idx)}
                        sx={{ ml: 'auto', color: '#f44336' }}
                      >
                        <Icon>delete</Icon>
                      </IconButton>
                    )}
                  </Box>
                  <Grid container spacing={2}>
                    <Grid item xs={12} md={4}>
                      <FormControl fullWidth variant="outlined" size="small">
                        <InputLabel>å—å…¥åº—èˆ—å</InputLabel>
                        <Select
                          value={s.name}
                          onChange={e => handleStoreChange(idx, 'name', e.target.value)}
                          label="å—å…¥åº—èˆ—å"
                        >
                          {STORE_OPTIONS.map(store => (
                            <MenuItem key={store} value={store}>{store}</MenuItem>
                          ))}
                        </Select>
                      </FormControl>
                    </Grid>
                    <Grid item xs={6} md={2}>
                      <TextField
                        label="å—å…¥å¯èƒ½äººæ•°"
                        type="number"
                        inputProps={{ min: 1 }}
                        value={s.count}
                        onChange={e => handleStoreChange(idx, 'count', e.target.value)}
                        fullWidth
                        variant="outlined"
                        size="small"
                        placeholder="äºº"
                      />
                    </Grid>
                    <Grid item xs={6} md={6}>
                      <FormControl fullWidth variant="outlined" size="small">
                        <InputLabel>ä»£æ›¿åº—èˆ—ï¼ˆä»»æ„ï¼‰</InputLabel>
                        <Select
                          value={s.transfer}
                          onChange={e => handleStoreChange(idx, 'transfer', e.target.value)}
                          label="ä»£æ›¿åº—èˆ—ï¼ˆä»»æ„ï¼‰"
                        >
                          <MenuItem value="">
                            <em>æœªè¨­å®š</em>
                          </MenuItem>
                          {getTransferOptions(idx).map((opt, i) => (
                            <MenuItem key={i} value={opt}>{opt}</MenuItem>
                          ))}
                        </Select>
                      </FormControl>
                    </Grid>
                  </Grid>
                </div>
              ))}
              
              <Typography variant="body2" color="text.secondary" sx={{ mt: 1, fontStyle: 'italic' }}>
                â€» ä»£æ›¿åº—èˆ—ã¯ä»»æ„é …ç›®ã§ã™ã€‚ç¬¬ä¸€å¸Œæœ›ã®åº—èˆ—ã§å—å…¥ã‚Œã§ããªã„å ´åˆã®ä»£æ›¿æ¡ˆã¨ã—ã¦è¨­å®šã§ãã¾ã™ã€‚
              </Typography>
            </div>

            {/* ç”³è¾¼ç¢ºèªãƒœã‚¿ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
            <div className="form-section">
              <Grid container spacing={2}>
                <Grid item xs={12} md={6}>
                  <Button
                    variant="outlined"
                    onClick={resetApplication}
                    fullWidth
                    sx={{ py: 1.5 }}
                  >
                    <Icon sx={{ mr: 1 }}>refresh</Icon>
                    å…¥åŠ›å†…å®¹ã‚’ãƒªã‚»ãƒƒãƒˆ
                  </Button>
                </Grid>
                <Grid item xs={12} md={6}>
                  <Button
                    variant="contained"
                    onClick={handleConfirm}
                    disabled={!canConfirm}
                    fullWidth
                    sx={{ 
                      py: 1.5, 
                      fontSize: '1rem',
                      background: 'linear-gradient(135deg, #1976d2 0%, #1565c0 100%)',
                      '&:hover': {
                        background: 'linear-gradient(135deg, #1565c0 0%, #0d47a1 100%)',
                      }
                    }}
                  >
                    <Icon sx={{ mr: 1, fontSize: 20 }}>preview</Icon>
                    ç”³è¾¼å†…å®¹ã‚’ç¢ºèªã™ã‚‹
                  </Button>
                </Grid>
              </Grid>
              
              {!canConfirm && (
                <Typography variant="body2" color="text.secondary" sx={{ mt: 1, textAlign: 'center' }}>
                  æ—¥ä»˜ã€æ™‚é–“ã€å—å…¥åº—èˆ—æƒ…å ±ï¼ˆåå‰ãƒ»äººæ•°ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
                </Typography>
              )}
            </div>

            {/* ç”³è¾¼å†…å®¹è¡¨ç¤ºã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
            {entries.length > 0 && (
              <div className="form-section">
                {isSent ? (
                  <Box sx={{ textAlign: 'center', py: 2, bgcolor: '#e8f5e8', borderRadius: 2, mb: 2 }}>
                    <Icon sx={{ fontSize: 40, color: '#4caf50', mb: 1 }}>check_circle</Icon>
                    <Typography variant="h6" sx={{ color: '#4caf50', fontWeight: 'bold', mb: 1 }}>
                      ç”³è¾¼ãŒå®Œäº†ã—ã¾ã—ãŸ
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      ç”³è¾¼ä»¶æ•°: {entries.length}ä»¶
                    </Typography>
                  </Box>
                ) : (
                  <Alert severity="info" sx={{ mb: 2 }}>
                    <Typography variant="body2">
                      ç”³è¾¼å†…å®¹ã‚’ã”ç¢ºèªã®ä¸Šã€ã€Œç”³è¾¼ã‚’é€ä¿¡ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
                    </Typography>
                  </Alert>
                )}
                
                <Typography variant="h6" sx={{ fontWeight: 'bold', mb: 1, color: '#1976d2' }}>
                  ğŸ“‹ ç”³è¾¼å†…å®¹ ({entries.length}ä»¶)
                </Typography>
                
                <List sx={{ maxHeight: '300px', overflow: 'auto', bgcolor: '#f8f9fa', borderRadius: 1, border: '1px solid #e0e0e0' }}>
                  {entries.map((e, i) => (
                    <ListItem key={i} sx={{ 
                      borderBottom: i < entries.length - 1 ? '1px solid #e0e0e0' : 'none',
                      py: 1.5,
                      bgcolor: i % 2 === 0 ? 'white' : 'transparent'
                    }}>
                      <Box sx={{ width: '100%' }}>
                        <Typography variant="body1" sx={{ fontWeight: 'bold', color: '#1976d2', mb: 0.5 }}>
                          {e.date} ({e.startTime}ï½{e.endTime})
                        </Typography>
                        <Typography variant="body2" color="text.secondary">
                          å—å…¥åº—èˆ—: {e.store} ï½œ äººæ•°: {e.count}å ï½œ ä»£æ›¿åº—èˆ—: {e.transfer}
                        </Typography>
                      </Box>
                    </ListItem>
                  ))}
                </List>

                {!isSent && (
                  <Box sx={{ mt: 2 }}>
                    <Button
                      variant="contained"
                      onClick={handleSubmit}
                      fullWidth
                      sx={{ 
                        py: 1.5, 
                        fontSize: '1rem',
                        background: 'linear-gradient(135deg, #4caf50 0%, #388e3c 100%)',
                        '&:hover': {
                          background: 'linear-gradient(135deg, #388e3c 0%, #2e7d32 100%)',
                        }
                      }}
                    >
                      <Icon sx={{ mr: 1, fontSize: 20 }}>send</Icon>
                      ç”³è¾¼ã‚’é€ä¿¡ã™ã‚‹
                    </Button>
                  </Box>
                )}
              </div>
            )}
          </div>

          {/* é€ä¿¡ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° */}
          <Dialog open={showConfirmDialog} onClose={() => setShowConfirmDialog(false)}>
            <DialogTitle>ç”³è¾¼é€ä¿¡ç¢ºèª</DialogTitle>
            <DialogContent>
              <Typography>
                ç”³è¾¼å†…å®¹ã‚’é€ä¿¡ã—ã¾ã™ã‹ï¼Ÿ<br/>
                é€ä¿¡å¾Œã¯å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚
              </Typography>
            </DialogContent>
            <DialogActions>
              <Button onClick={() => setShowConfirmDialog(false)} color="primary">
                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
              </Button>
              <Button onClick={confirmSubmit} color="primary" variant="contained">
                é€ä¿¡ã™ã‚‹
              </Button>
            </DialogActions>
          </Dialog>
        </Box>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>