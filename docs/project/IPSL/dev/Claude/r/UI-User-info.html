<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>School Application Form</title>

  <!-- Google Fonts & Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />

  <!-- React & ReactDOM (production UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js" crossorigin></script>

  <!-- Babel for JSX -->
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.23.8/babel.min.js"></script>

  <!-- Emotion (styled & react) -->
  <script src="https://cdn.jsdelivr.net/npm/@emotion/react@11.11.3/dist/emotion-react.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emotion/styled@11.11.0/dist/emotion-styled.umd.min.js"></script>

  <!-- MUI (production UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/@mui/material@5.15.3/umd/material-ui.production.min.js"></script>

  <style>
    body { font-family: Roboto, sans-serif; background: #f5f5f5; margin: 0; padding: 12px; }
    .form-container { background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; max-width: 600px; margin: auto; }
    .form-header { background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%); color: white; padding: 20px; text-align: center; }
    .form-section { padding: 16px 20px; border-bottom: 1px solid #e0e0e0; }
    .form-section:last-child { border-bottom: none; }
    .section-title { color: #1976d2; font-weight: 500; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; font-size: 1.1rem; }
    .confirmation-section { background: #fff3e0; border: 2px solid #ff9800; border-radius: 8px; padding: 16px; margin: 16px 0; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const {
      Box, Typography, TextField, Select, MenuItem, FormControl,
      InputLabel, RadioGroup, FormControlLabel, Radio, Button, Grid, Icon
    } = MaterialUI;

    function SchoolApplicationForm() {
      const [data, setData] = React.useState({
        schoolType: '',
        schoolName: '',
        grade: '',
        applicantName: '',
        contactName: '',
        phone1: '', phone2: '', phone3: '',
        fax1: '', fax2: '', fax3: '',
        email: '',
        contactMethod: 'email',
        message: ''
      });

      const handleChange = (field) => (e) => {
        setData(prev => ({ ...prev, [field]: e.target.value }));
      };

      const grades = ['1','2','3','4','5','6'];

      return (
        <Box className="form-container">
          {/* Header */}
          <Box className="form-header">
            <Typography variant="h5">ご担当者情報 <span style={{color:'#ffcccc'}}>*必須</span></Typography>
          </Box>

          {/* 学校区分 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>school</Icon> 学校区分 <span style={{color:'#ff5722'}}>*</span>
            </Box>
            <FormControl component="fieldset">
              <RadioGroup row value={data.schoolType} onChange={handleChange('schoolType')}>
                <FormControlLabel value="elementary" control={<Radio />} label="小学校" />
                <FormControlLabel value="junior_high" control={<Radio />} label="中学校" />
              </RadioGroup>
            </FormControl>
          </Box>

          {/* 学校名 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>school</Icon> 学校名 <span style={{color:'#ff5722'}}>*</span>
            </Box>
            <TextField
              fullWidth variant="outlined" size="small"
              placeholder="学校名を入力してください"
              value={data.schoolName} onChange={handleChange('schoolName')}
            />
          </Box>

          {/* 学年 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>grade</Icon> 学年（年生） <span style={{color:'#ff5722'}}>*</span>
            </Box>
            <FormControl fullWidth size="small">
              <InputLabel>学年</InputLabel>
              <Select
                value={data.grade} label="学年" onChange={handleChange('grade')}
              >
                {grades.map(g => (
                  <MenuItem key={g} value={g}>{g}年生</MenuItem>
                ))}
              </Select>
            </FormControl>
          </Box>

          {/* ご担当者名 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>person</Icon> ご担当者名 <span style={{color:'#ff5722'}}>*</span>
            </Box>
            <TextField
              fullWidth variant="outlined" size="small"
              placeholder="ご担当者名を入力してください"
              value={data.applicantName} onChange={handleChange('applicantName')}
            />
          </Box>

          {/* ご申込者名 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>person</Icon> ご申込者名 <span style={{color:'#ff5722'}}>*</span>
            </Box>
            <TextField
              fullWidth variant="outlined" size="small"
              placeholder="ご申込者名を入力してください"
              value={data.contactName} onChange={handleChange('contactName')}
            />
          </Box>

          {/* 電話番号 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>phone</Icon> 電話番号
            </Box>
            <Grid container spacing={1}>
              {['phone1','phone2','phone3'].map((f,i) => (
                <Grid item xs={4} key={f}>
                  <TextField
                    fullWidth variant="outlined" size="small"
                    value={data[f]} onChange={handleChange(f)}
                    placeholder={i===0?'000': i===1?'0000':'0000'}
                    inputProps={{ style: { textAlign: 'center' } }}
                  />
                </Grid>
              ))}
            </Grid>
          </Box>

          {/* FAX番号 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>print</Icon> FAX番号
            </Box>
            <Grid container spacing={1}>
              {['fax1','fax2','fax3'].map((f,i) => (
                <Grid item xs={4} key={f}>
                  <TextField
                    fullWidth variant="outlined" size="small"
                    value={data[f]} onChange={handleChange(f)}
                    placeholder={i===0?'000': i===1?'0000':'0000'}
                    inputProps={{ style: { textAlign: 'center' } }}
                  />
                </Grid>
              ))}
            </Grid>
          </Box>

          {/* メールアドレス */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>email</Icon> 連絡可能なメールアドレス <span style={{color:'#ff5722'}}>*</span>
            </Box>
            <TextField
              fullWidth variant="outlined" size="small" type="email"
              placeholder="メールアドレスを入力してください"
              value={data.email} onChange={handleChange('email')}
            />
          </Box>

          {/* 連絡方法 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>forum</Icon> ご希望の連絡方法
            </Box>
            <FormControl component="fieldset">
              <RadioGroup row value={data.contactMethod} onChange={handleChange('contactMethod')}>
                <FormControlLabel value="email" control={<Radio />} label="メール" />
                <FormControlLabel value="fax" control={<Radio />} label="FAX" />
              </RadioGroup>
            </FormControl>
            <Box className="confirmation-section">
              <Typography variant="body2">
                記録を残すため、電話での連絡はしていません。（緊急の場合は除く）
              </Typography>
            </Box>
          </Box>

          {/* 備考 */}
          <Box className="form-section">
            <Box className="section-title">
              <Icon>mode_comment</Icon> 備考
            </Box>
            <TextField
              fullWidth variant="outlined" size="small" multiline rows={4}
              placeholder="ご質問やご要望などがございましたらご記入ください"
              value={data.message} onChange={handleChange('message')}
            />
          </Box>

          {/* 送信 */}
          <Box className="form-section" textAlign="center">
            <Button
              variant="contained" size="large"
              sx={{ width: '100%', background: 'linear-gradient(135deg,#1976d2,#1565c0)', py: 1.5 }}
            >
              申し込みを送信
            </Button>
          </Box>
        </Box>
      );
    }

    ReactDOM.render(
      <SchoolApplicationForm />,
      document.getElementById('root')
    );
  </script>
</body>
</html>
