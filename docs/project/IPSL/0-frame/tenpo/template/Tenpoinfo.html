<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>店舗建物管理フォーム</title>
  <!-- Material-UI CDN -->
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
  />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/icon?family=Material+Icons"
  />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      padding: 20px;
      background-color: #e0f7fa; /* 全体の背景色を淡い青に */
    }
    .form-section {
      margin-bottom: 40px;
      padding: 20px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .section-title {
      margin-bottom: 20px;
      color: #00796b; /* セクションタイトルをダークシアンに */
    }
    .sub-section-title {
      margin-bottom: 15px;
      color: #004d40; /* サブセクションタイトルを濃いシアンに */
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #b2dfdb;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #b2dfdb; /* テーブルヘッダーを淡いシアンに */
      color: #004d40; /* ヘッダー文字色を濃いシアンに */
    }
    tr:nth-child(even) {
      background-color: #e0f2f1; /* テーブルの偶数行を薄いシアンに */
    }
    .add-row-button {
      margin-top: 10px;
      background-color: #26a69a; /* 追加ボタンを明るいシアンに */
      color: #ffffff;
    }
    .delete-button {
      color: #d32f2f; /* 削除ボタンを赤色に */
    }
    .MuiButton-containedSecondary {
      background-color: #ef5350;
      color: #ffffff;
    }
    .MuiButton-containedPrimary {
      background-color: #26a69a;
      color: #ffffff;
    }
    /* Paperサマリー用スタイル */
    .summary-paper {
      padding: 10px 20px;
      margin-bottom: 20px;
      background-color: #f1f8e9; /* 薄い緑色 */
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .summary-text {
      font-size: 1rem;
      color: #33691e; /* 濃い緑色 */
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React and ReactDOM CDN -->
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  
  <!-- Babel CDN for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Material-UI CDN -->
  <script src="https://unpkg.com/@mui/material@5.14.4/umd/material-ui.development.js" crossorigin></script>
  
  <script type="text/babel">
    const {
      Container,
      Typography,
      TextField,
      Select,
      MenuItem,
      FormControl,
      InputLabel,
      Button,
      Grid,
      Box,
      Table,
      TableBody,
      TableCell,
      TableContainer,
      TableHead,
      TableRow,
      Paper,
      IconButton
    } = MaterialUI;

    const { useState } = React;

    function App() {
      const [formData, setFormData] = useState({
        // 1. 営業情報 (Sales Information)
        annualSalesCustomers: [
          // 各年度エントリ: { year: '', sales: '', customers: '' }
        ],
        // 2. 店舗概要 (Store Overview)
        // 2.1 営業条件 (Business Conditions)
        openingDate: '',
        renovationDates: [
          // 各改装エントリ: { renovationDate: '' }
        ],
        businessHoursStart: '',
        businessHoursEnd: '',
        address: '',
        phoneNumbers: [
          // 各電話番号エントリ: { phoneNumber: '' }
        ],
        // 2.3 土地 (Land)
        lands: [
          // 各土地エントリ: { landLocation: '', landArea: '', landUsage: '', landOwner: '', landRights: '', landAppraisalValue: '', landUseRestrictions: '' }
        ],
        // 2.4 建物 (Building)
        floors: [
          // 各フロアエントリ: { floorNumber: '', floorArea: '', floorUsage: '', additionalDetails: '' }
        ],
        // 3. 設備 (Equipment)
        // 3.1 建物設備 (Building Equipment)
        buildingEquipments: [
          // 各設備エントリ: { equipmentType: '', description: '', location: '', status: '', lastMaintenanceDate: '', nextMaintenanceDate: '' }
        ],
        // 3.2 売場設備 (Sales Area Equipment)
        salesAreaEquipments: [
          // 各設備エントリ: { equipmentType: '', description: '', location: '', status: '', lastMaintenanceDate: '', nextMaintenanceDate: '' }
        ],
        // 3.3 インフラ設備 (Infrastructure Equipment)
        infrastructureEquipments: [
          // 各設備エントリ: { equipmentType: '', description: '', location: '', status: '', lastMaintenanceDate: '', nextMaintenanceDate: '' }
        ],
        // 4. 関係者 (Stakeholders)
        // 4.1 社内　担当範囲 (Internal Responsibilities)
        internalStakeholders: [
          // 各担当者エントリ: { name: '', role: '', contact: '' }
        ],
        // 4.2 社外　担当範囲 (External Responsibilities)
        externalStakeholders: [
          // 各担当者エントリ: { name: '', role: '', contact: '' }
        ],
        // 5. 契約情報・履歴 (Contract Information and History)
        contracts: [
          // 各契約エントリ: { contractType: '', details: '', startDate: '', endDate: '' }
        ],
        // 6. テナント情報・履歴 (Tenant Information and History)
        tenants: [
          // 各テナントエントリ: { tenantName: '', contractDetails: '', leaseAmount: '' }
        ],
        // 7. 近隣情報 (Neighborhood Information)
        neighborhoodInformation: [
          // 各近隣エントリ: { item: '', details: '' }
        ],
        // 8. 社内手続履歴 (Internal Procedure History)
        internalProcedures: [
          // 各手続エントリ: { procedureName: '', date: '', details: '' }
        ],
        // 9. 改修履歴 (Renovation History)
        renovations: [
          // 各改修エントリ: { renovationDate: '', details: '', cost: '' }
        ],
        // 10. 課題管理 (Issue Management)
        issues: [
          // 各課題エントリ: { issueTitle: '', description: '', status: '' }
        ],
        // 11. 全般履歴 (General History)
        generalHistory: [
          // 各履歴エントリ: { historyDate: '', event: '', notes: '' }
        ],
      });

      // Handlers for general form fields
      const handleChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData({
          ...formData,
          [name]: type === 'checkbox' ? checked : value,
        });
      };

      // Handlers for 各テーブル
      const handleAddRow = (section) => {
        setFormData((prevState) => ({
          ...prevState,
          [section]: [
            ...prevState[section],
            { ...getEmptyRow(section) }
          ]
        }));
      };

      const handleRemoveRow = (section, index) => {
        const newSection = formData[section].filter((_, i) => i !== index);
        setFormData({
          ...formData,
          [section]: newSection
        });
      };

      const handleRowChange = (section, index, field, value) => {
        const newSection = formData[section].map((row, i) => {
          if (i === index) {
            return { ...row, [field]: value };
          }
          return row;
        });
        setFormData({
          ...formData,
          [section]: newSection
        });
      };

      const getEmptyRow = (section) => {
        switch(section) {
          case 'annualSalesCustomers':
            return { year: '', sales: '', customers: '' };
          case 'renovationDates':
            return { renovationDate: '' };
          case 'phoneNumbers':
            return { phoneNumber: '' };
          case 'buildingEquipments':
            return { equipmentType: '', description: '', location: '', status: '', lastMaintenanceDate: '', nextMaintenanceDate: '' };
          case 'salesAreaEquipments':
            return { equipmentType: '', description: '', location: '', status: '', lastMaintenanceDate: '', nextMaintenanceDate: '' };
          case 'infrastructureEquipments':
            return { equipmentType: '', description: '', location: '', status: '', lastMaintenanceDate: '', nextMaintenanceDate: '' };
          case 'internalStakeholders':
            return { name: '', role: '', contact: '' };
          case 'externalStakeholders':
            return { name: '', role: '', contact: '' };
          case 'contracts':
            return { contractType: '', details: '', startDate: '', endDate: '' };
          case 'tenants':
            return { tenantName: '', contractDetails: '', leaseAmount: '' };
          case 'neighborhoodInformation':
            return { item: '', details: '' };
          case 'internalProcedures':
            return { procedureName: '', date: '', details: '' };
          case 'renovations':
            return { renovationDate: '', details: '', cost: '' };
          case 'issues':
            return { issueTitle: '', description: '', status: '' };
          case 'generalHistory':
            return { historyDate: '', event: '', notes: '' };
          case 'lands':
            return { landLocation: '', landArea: '', landUsage: '', landOwner: '', landRights: '', landAppraisalValue: '', landUseRestrictions: '' };
          case 'floors':
            return { floorNumber: '', floorArea: '', floorUsage: '', additionalDetails: '' };
          default:
            return {};
        }
      };

      const handleSubmit = (e) => {
        e.preventDefault();
        console.log('フォームデータ:', formData);
        alert('フォームが送信されました。コンソールを確認してください。');
      };

      return (
        <Container maxWidth={false} disableGutters>
          <Typography variant="h4" gutterBottom style={{ color: '#00796b', textAlign: 'center' }}>
            店舗建物管理フォーム
          </Typography>
          <form onSubmit={handleSubmit}>
            {/* 1. 営業情報 */}
            <Box className="form-section" style={{ borderLeft: '5px solid #ffca28' }}>
              <Typography variant="h5" className="section-title">1. 営業情報</Typography>
              
              {/* 年度別売上客数実績テーブル */}
              <Typography variant="h6" className="sub-section-title">年度別売上客数実績</Typography>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>年度</TableCell>
                      <TableCell>売上高 (¥)</TableCell>
                      <TableCell>客数</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.annualSalesCustomers && formData.annualSalesCustomers.map((entry, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            name={`annualSalesCustomers-${index}-year`}
                            value={entry.year}
                            onChange={(e) => handleRowChange('annualSalesCustomers', index, 'year', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="number"
                            name={`annualSalesCustomers-${index}-sales`}
                            value={entry.sales}
                            onChange={(e) => handleRowChange('annualSalesCustomers', index, 'sales', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="number"
                            name={`annualSalesCustomers-${index}-customers`}
                            value={entry.customers}
                            onChange={(e) => handleRowChange('annualSalesCustomers', index, 'customers', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('annualSalesCustomers', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('annualSalesCustomers')}
                className="add-row-button"
              >
                年度エントリを追加
              </Button>
            </Box>

            {/* 2. 店舗概要 (Store Overview) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #4caf50' }}>
              <Typography variant="h5" className="section-title">2. 店舗概要</Typography>

              {/* 2.1 営業条件 (Business Conditions) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">2.1 営業条件</Typography>
                <Grid container spacing={2}>
                  {/* 開店日、1行 */}
                  <Grid item xs={12} sm={4}>
                    <TextField
                      label="開店日"
                      name="openingDate"
                      fullWidth
                      value={formData.openingDate}
                      onChange={handleChange}
                      variant="outlined"
                      type="date"
                      InputLabelProps={{
                        shrink: true,
                      }}
                    />
                  </Grid>
                  
                  {/* 改装情報テーブル、ホリゾンタルで日付だけ */}
                  <Grid item xs={12} sm={8}>
                    <Typography variant="subtitle1" style={{ marginBottom: '8px' }}>改装情報</Typography>
                    <TableContainer component={Paper}>
                      <Table>
                        <TableHead>
                          <TableRow>
                            <TableCell>改装日</TableCell>
                            <TableCell>操作</TableCell>
                          </TableRow>
                        </TableHead>
                        <TableBody>
                          {formData.renovationDates.map((renovation, index) => (
                            <TableRow key={index}>
                              <TableCell>
                                <TextField
                                  type="date"
                                  name={`renovationDates-${index}-renovationDate`}
                                  value={renovation.renovationDate}
                                  onChange={(e) => handleRowChange('renovationDates', index, 'renovationDate', e.target.value)}
                                  InputLabelProps={{
                                    shrink: true,
                                  }}
                                  variant="outlined"
                                  fullWidth
                                />
                              </TableCell>
                              <TableCell>
                                <IconButton onClick={() => handleRemoveRow('renovationDates', index)}>
                                  <span className="material-icons delete-button">delete</span>
                                </IconButton>
                              </TableCell>
                            </TableRow>
                          ))}
                        </TableBody>
                      </Table>
                    </TableContainer>
                    <Button
                      variant="contained"
                      color="secondary"
                      onClick={() => handleAddRow('renovationDates')}
                      className="add-row-button"
                    >
                      改装日を追加
                    </Button>
                  </Grid>

                  {/* 営業時間　開始時刻、終了時刻、1行 */}
                  <Grid item xs={12} sm={6}>
                    <TextField
                      label="営業時間開始時刻"
                      name="businessHoursStart"
                      fullWidth
                      value={formData.businessHoursStart}
                      onChange={handleChange}
                      variant="outlined"
                      type="time"
                      InputLabelProps={{
                        shrink: true,
                      }}
                      inputProps={{
                        step: 300, // 5分刻み
                      }}
                    />
                  </Grid>
                  <Grid item xs={12} sm={6}>
                    <TextField
                      label="営業時間終了時刻"
                      name="businessHoursEnd"
                      fullWidth
                      value={formData.businessHoursEnd}
                      onChange={handleChange}
                      variant="outlined"
                      type="time"
                      InputLabelProps={{
                        shrink: true,
                      }}
                      inputProps={{
                        step: 300, // 5分刻み
                      }}
                    />
                  </Grid>

                  {/* 住所、1行 */}
                  <Grid item xs={12} sm={6}>
                    <TextField
                      label="住所"
                      name="address"
                      fullWidth
                      value={formData.address}
                      onChange={handleChange}
                      variant="outlined"
                      placeholder="例: 東京都新宿区..."
                    />
                  </Grid>

                  {/* 電話番号テーブル */}
                  <Grid item xs={12} sm={6}>
                    <Typography variant="subtitle1" style={{ marginBottom: '8px' }}>電話番号</Typography>
                    <TableContainer component={Paper}>
                      <Table>
                        <TableHead>
                          <TableRow>
                            <TableCell>電話番号</TableCell>
                            <TableCell>操作</TableCell>
                          </TableRow>
                        </TableHead>
                        <TableBody>
                          {formData.phoneNumbers.map((phone, index) => (
                            <TableRow key={index}>
                              <TableCell>
                                <TextField
                                  name={`phoneNumbers-${index}-phoneNumber`}
                                  value={phone.phoneNumber}
                                  onChange={(e) => handleRowChange('phoneNumbers', index, 'phoneNumber', e.target.value)}
                                  fullWidth
                                  variant="outlined"
                                  placeholder="例: 03-1234-5678"
                                />
                              </TableCell>
                              <TableCell>
                                <IconButton onClick={() => handleRemoveRow('phoneNumbers', index)}>
                                  <span className="material-icons delete-button">delete</span>
                                </IconButton>
                              </TableCell>
                            </TableRow>
                          ))}
                        </TableBody>
                      </Table>
                    </TableContainer>
                    <Button
                      variant="contained"
                      color="secondary"
                      onClick={() => handleAddRow('phoneNumbers')}
                      className="add-row-button"
                    >
                      電話番号を追加
                    </Button>
                  </Grid>
                </Grid>
              </Box>

              {/* 2.2 不動産的な情報 (Real Estate Information) - 削除 */}

              {/* 2.3 土地 (Land) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">2.3 土地</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在の土地数: {formData.lands.length} 件
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>土地の所在地</TableCell>
                        <TableCell>土地の面積 (㎡)</TableCell>
                        <TableCell>土地の用途</TableCell>
                        <TableCell>土地の所有者</TableCell>
                        <TableCell>土地の権利</TableCell>
                        <TableCell>土地の評価額 (¥)</TableCell>
                        <TableCell>土地の利用制限</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.lands.map((land, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <TextField
                              name={`lands-${index}-landLocation`}
                              value={land.landLocation}
                              onChange={(e) => handleRowChange('lands', index, 'landLocation', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="number"
                              name={`lands-${index}-landArea`}
                              value={land.landArea}
                              onChange={(e) => handleRowChange('lands', index, 'landArea', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`lands-${index}-landUsage`}
                              value={land.landUsage}
                              onChange={(e) => handleRowChange('lands', index, 'landUsage', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`lands-${index}-landOwner`}
                              value={land.landOwner}
                              onChange={(e) => handleRowChange('lands', index, 'landOwner', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`lands-${index}-landRights`}
                              value={land.landRights}
                              onChange={(e) => handleRowChange('lands', index, 'landRights', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="number"
                              name={`lands-${index}-landAppraisalValue`}
                              value={land.landAppraisalValue}
                              onChange={(e) => handleRowChange('lands', index, 'landAppraisalValue', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`lands-${index}-landUseRestrictions`}
                              value={land.landUseRestrictions}
                              onChange={(e) => handleRowChange('lands', index, 'landUseRestrictions', e.target.value)}
                              fullWidth
                              variant="outlined"
                              multiline
                              rows={2}
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('lands', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('lands')}
                  className="add-row-button"
                >
                  土地を追加
                </Button>
              </Box>

              {/* 2.4 建物 (Building) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">2.4 建物</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在のフロア数: {formData.floors.length} 件
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>フロア番号</TableCell>
                        <TableCell>フロア面積 (㎡)</TableCell>
                        <TableCell>フロア用途</TableCell>
                        <TableCell>追加詳細</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.floors.map((floor, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <TextField
                              name={`floors-${index}-floorNumber`}
                              value={floor.floorNumber}
                              onChange={(e) => handleRowChange('floors', index, 'floorNumber', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="number"
                              name={`floors-${index}-floorArea`}
                              value={floor.floorArea}
                              onChange={(e) => handleRowChange('floors', index, 'floorArea', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`floors-${index}-floorUsage`}
                              value={floor.floorUsage}
                              onChange={(e) => handleRowChange('floors', index, 'floorUsage', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`floors-${index}-additionalDetails`}
                              value={floor.additionalDetails}
                              onChange={(e) => handleRowChange('floors', index, 'additionalDetails', e.target.value)}
                              fullWidth
                              variant="outlined"
                              multiline
                              rows={2}
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('floors', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('floors')}
                  className="add-row-button"
                >
                  フロアを追加
                </Button>
              </Box>
            </Box>

            {/* 3. 設備 (Equipment) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #ba68c8' }}>
              <Typography variant="h5" className="section-title">3. 設備</Typography>

              {/* 3.1 建物設備 (Building Equipment) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">3.1 建物設備</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在の建物設備数: {formData.buildingEquipments.length} 件
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>設備タイプ</TableCell>
                        <TableCell>説明</TableCell>
                        <TableCell>設置場所</TableCell>
                        <TableCell>状態</TableCell>
                        <TableCell>最終メンテナンス日</TableCell>
                        <TableCell>次回メンテナンス日</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.buildingEquipments.map((equipment, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <FormControl variant="outlined" fullWidth>
                              <InputLabel>設備タイプ</InputLabel>
                              <Select
                                value={equipment.equipmentType}
                                onChange={(e) => handleRowChange('buildingEquipments', index, 'equipmentType', e.target.value)}
                                label="設備タイプ"
                              >
                                <MenuItem value="電気設備">電気設備</MenuItem>
                                <MenuItem value="照明設備">照明設備</MenuItem>
                                <MenuItem value="HVAC">HVAC</MenuItem>
                                <MenuItem value="給排水システム">給排水システム</MenuItem>
                                <MenuItem value="ガス配管">ガス配管</MenuItem>
                                <MenuItem value="防火設備">防火設備</MenuItem>
                                <MenuItem value="その他">その他</MenuItem>
                              </Select>
                            </FormControl>
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`buildingEquipments-${index}-description`}
                              value={equipment.description}
                              onChange={(e) => handleRowChange('buildingEquipments', index, 'description', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`buildingEquipments-${index}-location`}
                              value={equipment.location}
                              onChange={(e) => handleRowChange('buildingEquipments', index, 'location', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <FormControl variant="outlined" fullWidth>
                              <InputLabel>状態</InputLabel>
                              <Select
                                value={equipment.status}
                                onChange={(e) => handleRowChange('buildingEquipments', index, 'status', e.target.value)}
                                label="状態"
                              >
                                <MenuItem value="良好">良好</MenuItem>
                                <MenuItem value="修理必要">修理必要</MenuItem>
                                <MenuItem value="交換必要">交換必要</MenuItem>
                              </Select>
                            </FormControl>
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="date"
                              name={`buildingEquipments-${index}-lastMaintenanceDate`}
                              value={equipment.lastMaintenanceDate}
                              onChange={(e) => handleRowChange('buildingEquipments', index, 'lastMaintenanceDate', e.target.value)}
                              InputLabelProps={{
                                shrink: true,
                              }}
                              variant="outlined"
                              fullWidth
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="date"
                              name={`buildingEquipments-${index}-nextMaintenanceDate`}
                              value={equipment.nextMaintenanceDate}
                              onChange={(e) => handleRowChange('buildingEquipments', index, 'nextMaintenanceDate', e.target.value)}
                              InputLabelProps={{
                                shrink: true,
                              }}
                              variant="outlined"
                              fullWidth
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('buildingEquipments', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('buildingEquipments')}
                  className="add-row-button"
                >
                  建物設備を追加
                </Button>
              </Box>

              {/* 3.2 売場設備 (Sales Area Equipment) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">3.2 売場設備</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在の売場設備数: {formData.salesAreaEquipments.length} 件
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>設備タイプ</TableCell>
                        <TableCell>説明</TableCell>
                        <TableCell>設置場所</TableCell>
                        <TableCell>状態</TableCell>
                        <TableCell>最終メンテナンス日</TableCell>
                        <TableCell>次回メンテナンス日</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.salesAreaEquipments.map((equipment, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <FormControl variant="outlined" fullWidth>
                              <InputLabel>設備タイプ</InputLabel>
                              <Select
                                value={equipment.equipmentType}
                                onChange={(e) => handleRowChange('salesAreaEquipments', index, 'equipmentType', e.target.value)}
                                label="設備タイプ"
                              >
                                <MenuItem value="ディスプレイ">ディスプレイ</MenuItem>
                                <MenuItem value="棚">棚</MenuItem>
                                <MenuItem value="POSシステム">POSシステム</MenuItem>
                                <MenuItem value="その他">その他</MenuItem>
                              </Select>
                            </FormControl>
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`salesAreaEquipments-${index}-description`}
                              value={equipment.description}
                              onChange={(e) => handleRowChange('salesAreaEquipments', index, 'description', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`salesAreaEquipments-${index}-location`}
                              value={equipment.location}
                              onChange={(e) => handleRowChange('salesAreaEquipments', index, 'location', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <FormControl variant="outlined" fullWidth>
                              <InputLabel>状態</InputLabel>
                              <Select
                                value={equipment.status}
                                onChange={(e) => handleRowChange('salesAreaEquipments', index, 'status', e.target.value)}
                                label="状態"
                              >
                                <MenuItem value="良好">良好</MenuItem>
                                <MenuItem value="修理必要">修理必要</MenuItem>
                                <MenuItem value="交換必要">交換必要</MenuItem>
                              </Select>
                            </FormControl>
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="date"
                              name={`salesAreaEquipments-${index}-lastMaintenanceDate`}
                              value={equipment.lastMaintenanceDate}
                              onChange={(e) => handleRowChange('salesAreaEquipments', index, 'lastMaintenanceDate', e.target.value)}
                              InputLabelProps={{
                                shrink: true,
                              }}
                              variant="outlined"
                              fullWidth
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="date"
                              name={`salesAreaEquipments-${index}-nextMaintenanceDate`}
                              value={equipment.nextMaintenanceDate}
                              onChange={(e) => handleRowChange('salesAreaEquipments', index, 'nextMaintenanceDate', e.target.value)}
                              InputLabelProps={{
                                shrink: true,
                              }}
                              variant="outlined"
                              fullWidth
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('salesAreaEquipments', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('salesAreaEquipments')}
                  className="add-row-button"
                >
                  売場設備を追加
                </Button>
              </Box>

              {/* 3.3 インフラ設備 (Infrastructure Equipment) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">3.3 インフラ設備</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在のインフラ設備数: {formData.infrastructureEquipments.length} 件
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>設備タイプ</TableCell>
                        <TableCell>説明</TableCell>
                        <TableCell>設置場所</TableCell>
                        <TableCell>状態</TableCell>
                        <TableCell>最終メンテナンス日</TableCell>
                        <TableCell>次回メンテナンス日</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.infrastructureEquipments.map((equipment, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <FormControl variant="outlined" fullWidth>
                              <InputLabel>設備タイプ</InputLabel>
                              <Select
                                value={equipment.equipmentType}
                                onChange={(e) => handleRowChange('infrastructureEquipments', index, 'equipmentType', e.target.value)}
                                label="設備タイプ"
                              >
                                <MenuItem value="電気設備">電気設備</MenuItem>
                                <MenuItem value="ネットワーク設備">ネットワーク設備</MenuItem>
                                <MenuItem value="その他">その他</MenuItem>
                              </Select>
                            </FormControl>
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`infrastructureEquipments-${index}-description`}
                              value={equipment.description}
                              onChange={(e) => handleRowChange('infrastructureEquipments', index, 'description', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`infrastructureEquipments-${index}-location`}
                              value={equipment.location}
                              onChange={(e) => handleRowChange('infrastructureEquipments', index, 'location', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <FormControl variant="outlined" fullWidth>
                              <InputLabel>状態</InputLabel>
                              <Select
                                value={equipment.status}
                                onChange={(e) => handleRowChange('infrastructureEquipments', index, 'status', e.target.value)}
                                label="状態"
                              >
                                <MenuItem value="良好">良好</MenuItem>
                                <MenuItem value="修理必要">修理必要</MenuItem>
                                <MenuItem value="交換必要">交換必要</MenuItem>
                              </Select>
                            </FormControl>
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="date"
                              name={`infrastructureEquipments-${index}-lastMaintenanceDate`}
                              value={equipment.lastMaintenanceDate}
                              onChange={(e) => handleRowChange('infrastructureEquipments', index, 'lastMaintenanceDate', e.target.value)}
                              InputLabelProps={{
                                shrink: true,
                              }}
                              variant="outlined"
                              fullWidth
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              type="date"
                              name={`infrastructureEquipments-${index}-nextMaintenanceDate`}
                              value={equipment.nextMaintenanceDate}
                              onChange={(e) => handleRowChange('infrastructureEquipments', index, 'nextMaintenanceDate', e.target.value)}
                              InputLabelProps={{
                                shrink: true,
                              }}
                              variant="outlined"
                              fullWidth
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('infrastructureEquipments', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('infrastructureEquipments')}
                  className="add-row-button"
                >
                  インフラ設備を追加
                </Button>
              </Box>
            </Box>

            {/* 4. 関係者 (Stakeholders) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #ff5722' }}>
              <Typography variant="h5" className="section-title">4. 関係者</Typography>

              {/* 4.1 社内　担当範囲 (Internal Responsibilities) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">4.1 社内　担当範囲</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在の社内担当者数: {formData.internalStakeholders.length} 名
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>名前</TableCell>
                        <TableCell>役割</TableCell>
                        <TableCell>連絡先</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.internalStakeholders.map((stakeholder, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <TextField
                              name={`internalStakeholders-${index}-name`}
                              value={stakeholder.name}
                              onChange={(e) => handleRowChange('internalStakeholders', index, 'name', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`internalStakeholders-${index}-role`}
                              value={stakeholder.role}
                              onChange={(e) => handleRowChange('internalStakeholders', index, 'role', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`internalStakeholders-${index}-contact`}
                              value={stakeholder.contact}
                              onChange={(e) => handleRowChange('internalStakeholders', index, 'contact', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('internalStakeholders', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('internalStakeholders')}
                  className="add-row-button"
                >
                  社内担当者を追加
                </Button>
              </Box>

              {/* 4.2 社外　担当範囲 (External Responsibilities) */}
              <Box marginBottom={3}>
                <Typography variant="h6" className="sub-section-title">4.2 社外　担当範囲</Typography>
                {/* サマリー表示 */}
                <Paper elevation={3} className="summary-paper">
                  <Typography className="summary-text">
                    現在の社外担当者数: {formData.externalStakeholders.length} 名
                  </Typography>
                </Paper>
                <TableContainer component={Paper}>
                  <Table>
                    <TableHead>
                      <TableRow>
                        <TableCell>名前</TableCell>
                        <TableCell>役割</TableCell>
                        <TableCell>連絡先</TableCell>
                        <TableCell>操作</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {formData.externalStakeholders.map((stakeholder, index) => (
                        <TableRow key={index}>
                          <TableCell>
                            <TextField
                              name={`externalStakeholders-${index}-name`}
                              value={stakeholder.name}
                              onChange={(e) => handleRowChange('externalStakeholders', index, 'name', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`externalStakeholders-${index}-role`}
                              value={stakeholder.role}
                              onChange={(e) => handleRowChange('externalStakeholders', index, 'role', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <TextField
                              name={`externalStakeholders-${index}-contact`}
                              value={stakeholder.contact}
                              onChange={(e) => handleRowChange('externalStakeholders', index, 'contact', e.target.value)}
                              fullWidth
                              variant="outlined"
                            />
                          </TableCell>
                          <TableCell>
                            <IconButton onClick={() => handleRemoveRow('externalStakeholders', index)}>
                              <span className="material-icons delete-button">delete</span>
                            </IconButton>
                          </TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </TableContainer>
                <Button
                  variant="contained"
                  color="secondary"
                  onClick={() => handleAddRow('externalStakeholders')}
                  className="add-row-button"
                >
                  社外担当者を追加
                </Button>
              </Box>
            </Box>

            {/* 5. 契約情報・履歴 (Contract Information and History) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #3949ab' }}>
              <Typography variant="h5" className="section-title">5. 契約情報・履歴</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在の契約数: {formData.contracts.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>契約タイプ</TableCell>
                      <TableCell>詳細</TableCell>
                      <TableCell>開始日</TableCell>
                      <TableCell>終了日</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.contracts.map((contract, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            name={`contracts-${index}-contractType`}
                            value={contract.contractType}
                            onChange={(e) => handleRowChange('contracts', index, 'contractType', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`contracts-${index}-details`}
                            value={contract.details}
                            onChange={(e) => handleRowChange('contracts', index, 'details', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="date"
                            name={`contracts-${index}-startDate`}
                            value={contract.startDate}
                            onChange={(e) => handleRowChange('contracts', index, 'startDate', e.target.value)}
                            InputLabelProps={{
                              shrink: true,
                            }}
                            variant="outlined"
                            fullWidth
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="date"
                            name={`contracts-${index}-endDate`}
                            value={contract.endDate}
                            onChange={(e) => handleRowChange('contracts', index, 'endDate', e.target.value)}
                            InputLabelProps={{
                              shrink: true,
                            }}
                            variant="outlined"
                            fullWidth
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('contracts', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('contracts')}
                className="add-row-button"
              >
                契約情報を追加
              </Button>
            </Box>

            {/* 6. テナント情報・履歴 (Tenant Information and History) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #8e24aa' }}>
              <Typography variant="h5" className="section-title">6. テナント情報・履歴</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在のテナント数: {formData.tenants.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>テナント名</TableCell>
                      <TableCell>契約内容</TableCell>
                      <TableCell>賃料 (¥)</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.tenants.map((tenant, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            name={`tenants-${index}-tenantName`}
                            value={tenant.tenantName}
                            onChange={(e) => handleRowChange('tenants', index, 'tenantName', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`tenants-${index}-contractDetails`}
                            value={tenant.contractDetails}
                            onChange={(e) => handleRowChange('tenants', index, 'contractDetails', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="number"
                            name={`tenants-${index}-leaseAmount`}
                            value={tenant.leaseAmount}
                            onChange={(e) => handleRowChange('tenants', index, 'leaseAmount', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('tenants', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('tenants')}
                className="add-row-button"
              >
                テナント情報を追加
              </Button>
            </Box>

            {/* 7. 近隣情報 (Neighborhood Information) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #ff7043' }}>
              <Typography variant="h5" className="section-title">7. 近隣情報</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在の近隣情報エントリ数: {formData.neighborhoodInformation.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>近隣環境項目</TableCell>
                      <TableCell>詳細</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.neighborhoodInformation.map((entry, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            name={`neighborhoodInformation-${index}-item`}
                            value={entry.item}
                            onChange={(e) => handleRowChange('neighborhoodInformation', index, 'item', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`neighborhoodInformation-${index}-details`}
                            value={entry.details}
                            onChange={(e) => handleRowChange('neighborhoodInformation', index, 'details', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('neighborhoodInformation', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('neighborhoodInformation')}
                className="add-row-button"
              >
                近隣情報を追加
              </Button>
            </Box>

            {/* 8. 社内手続履歴 (Internal Procedure History) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #8d6e63' }}>
              <Typography variant="h5" className="section-title">8. 社内手続履歴</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在の社内手続履歴数: {formData.internalProcedures.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>手続名</TableCell>
                      <TableCell>日付</TableCell>
                      <TableCell>詳細</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.internalProcedures.map((procedure, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            name={`internalProcedures-${index}-procedureName`}
                            value={procedure.procedureName}
                            onChange={(e) => handleRowChange('internalProcedures', index, 'procedureName', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="date"
                            name={`internalProcedures-${index}-date`}
                            value={procedure.date}
                            onChange={(e) => handleRowChange('internalProcedures', index, 'date', e.target.value)}
                            InputLabelProps={{
                              shrink: true,
                            }}
                            variant="outlined"
                            fullWidth
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`internalProcedures-${index}-details`}
                            value={procedure.details}
                            onChange={(e) => handleRowChange('internalProcedures', index, 'details', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('internalProcedures', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('internalProcedures')}
                className="add-row-button"
              >
                社内手続きを追加
              </Button>
            </Box>

            {/* 9. 改修履歴 (Renovation History) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #c2185b' }}>
              <Typography variant="h5" className="section-title">9. 改修履歴</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在の改修履歴数: {formData.renovations.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>改修日</TableCell>
                      <TableCell>詳細</TableCell>
                      <TableCell>費用 (¥)</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.renovations.map((renovation, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            type="date"
                            name={`renovations-${index}-renovationDate`}
                            value={renovation.renovationDate}
                            onChange={(e) => handleRowChange('renovations', index, 'renovationDate', e.target.value)}
                            InputLabelProps={{
                              shrink: true,
                            }}
                            variant="outlined"
                            fullWidth
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`renovations-${index}-details`}
                            value={renovation.details}
                            onChange={(e) => handleRowChange('renovations', index, 'details', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            type="number"
                            name={`renovations-${index}-cost`}
                            value={renovation.cost}
                            onChange={(e) => handleRowChange('renovations', index, 'cost', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('renovations', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('renovations')}
                className="add-row-button"
              >
                改修履歴を追加
              </Button>
            </Box>

            {/* 10. 課題管理 (Issue Management) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #ff9800' }}>
              <Typography variant="h5" className="section-title">10. 課題管理</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在の課題数: {formData.issues.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>課題タイトル</TableCell>
                      <TableCell>説明</TableCell>
                      <TableCell>状態</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.issues.map((issue, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            name={`issues-${index}-issueTitle`}
                            value={issue.issueTitle}
                            onChange={(e) => handleRowChange('issues', index, 'issueTitle', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`issues-${index}-description`}
                            value={issue.description}
                            onChange={(e) => handleRowChange('issues', index, 'description', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <FormControl variant="outlined" fullWidth>
                            <InputLabel>状態</InputLabel>
                            <Select
                              value={issue.status}
                              onChange={(e) => handleRowChange('issues', index, 'status', e.target.value)}
                              label="状態"
                            >
                              <MenuItem value="未解決">未解決</MenuItem>
                              <MenuItem value="進行中">進行中</MenuItem>
                              <MenuItem value="解決済み">解決済み</MenuItem>
                            </Select>
                          </FormControl>
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('issues', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('issues')}
                className="add-row-button"
              >
                課題を追加
              </Button>
            </Box>

            {/* 11. 全般履歴 (General History) */}
            <Box className="form-section" style={{ borderLeft: '5px solid #607d8b' }}>
              <Typography variant="h5" className="section-title">11. 全般履歴</Typography>
              {/* サマリー表示 */}
              <Paper elevation={3} className="summary-paper">
                <Typography className="summary-text">
                  現在の全般履歴数: {formData.generalHistory.length} 件
                </Typography>
              </Paper>
              <TableContainer component={Paper}>
                <Table>
                  <TableHead>
                    <TableRow>
                      <TableCell>日付</TableCell>
                      <TableCell>イベント</TableCell>
                      <TableCell>備考</TableCell>
                      <TableCell>操作</TableCell>
                    </TableRow>
                  </TableHead>
                  <TableBody>
                    {formData.generalHistory.map((history, index) => (
                      <TableRow key={index}>
                        <TableCell>
                          <TextField
                            type="date"
                            name={`generalHistory-${index}-historyDate`}
                            value={history.historyDate}
                            onChange={(e) => handleRowChange('generalHistory', index, 'historyDate', e.target.value)}
                            InputLabelProps={{
                              shrink: true,
                            }}
                            variant="outlined"
                            fullWidth
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`generalHistory-${index}-event`}
                            value={history.event}
                            onChange={(e) => handleRowChange('generalHistory', index, 'event', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <TextField
                            name={`generalHistory-${index}-notes`}
                            value={history.notes}
                            onChange={(e) => handleRowChange('generalHistory', index, 'notes', e.target.value)}
                            fullWidth
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          <IconButton onClick={() => handleRemoveRow('generalHistory', index)}>
                            <span className="material-icons delete-button">delete</span>
                          </IconButton>
                        </TableCell>
                      </TableRow>
                    ))}
                  </TableBody>
                </Table>
              </TableContainer>
              <Button
                variant="contained"
                color="secondary"
                onClick={() => handleAddRow('generalHistory')}
                className="add-row-button"
              >
                全般履歴を追加
              </Button>
            </Box>

            {/* Submit Button */}
            <Box textAlign="center" marginBottom={4}>
              <Button
                type="submit"
                variant="contained"
                color="primary"
                size="large"
              >
                送信
              </Button>
            </Box>
          </form>
        </Container>
      );

    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
